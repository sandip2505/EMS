<!DOCTYPE html>
<html lang="en">
<head>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.2.0/css/all.min.css"
        integrity="sha512-xh6O/CkQoPOWDdYTDqeRdPCVd1SpvCA9XXcUnZS2FmJNp1coAFzvtCN9BmamE+4aHK8yyUHUSCcJHgXloTyT2A=="
        crossorigin="anonymous" referrerpolicy="no-referrer" />
    <%- include ("partials/head.ejs") %>
        <%- include ("partials/head-bottom-link.ejs") %>
            <link rel="stylesheet" href="/css/aman.css">
            <style>
                .error1 {
                    color: red;
                    /* margin-left: -1450PX; */
                    font-weight: 700;
                }

                .error {
                    color: red;

                    font-weight: 700;
                }
            </style>
            <script src="/js/state.js"></script>

            <script> 
           var genderValue =  "<%= data.gender%>";
            </script>

</head>
<!-- <link rel="stylesheet" href="styles.css"> -->




<body class="hold-transition sidebar-mini layout-fixed">
    <div class="wrapper">
        <%- include ("partials/menu-list.ejs") %>
            <div class="pcoded-main-container">
                <div class="content-wrapper">
                    <div class="content-header">
                        <div class="container-fluid">
                            <div class="row mb-2">
                            </div>
                        </div>
                    </div>
                    <section class="content">
                        <div class="card">
                            <div class="card-header">
                                <h1 class="card-title">Edit Employees</h1>
                            </div>

                            <!-- -------------------------------------------- -->
                            <div class="container-fluid" id="grad1">
                                <div class="row mt-0 ml-3">
                                    <div class="col-11 col-sm-9 col-md-7 col-lg-6 text-center p-0 mt-3 mb-2">
                                        <!-- <div class="card px-0 pt-4 pb-0 mt-3 mb-3"> -->
                                        <div class="row">
                                            <div class="col-md-12 mx-0">
                                                <form method="post" id="msform" action="" enctype="multipart/form-data">
                                                    <!-- progressbar -->
                                                    <ul id="progressbar">
                                                        <li class="active" id="account"><strong>Login
                                                                Details</strong></li>
                                                        <li id="personal"><strong>Personal Details</strong>
                                                        </li>
                                                        <li id="payment"><strong>Bank Details</strong></li>
                                                        <li id="confirm"><strong>Finish</strong></li>
                                                    </ul>
                                                    <!-- fieldsets -->
                                                    <fieldset>
                                                        <div class="form">
                                                            <input type="text" class="form-control" name="user_name"
                                                                id="user_name" placeholder="Enter Your Username"
                                                                value="<%= data.user_name %>" autocomplete="off">
                                                            <span id="unameError" style="text-align:left"
                                                                class="error1"></span>
                                                        </div>
                                                        <div class="form">
                                                            <input type="email" class="form-control"
                                                                name="personal_email" id="personal_email"
                                                                placeholder="Enter Your Personal Email"
                                                                pattern="[a-z0-9._%+-]+@[a-z0-9.-]+\.[a-z]{2,}$"
                                                                value="<%= data.personal_email %>" autocomplete="off"
                                                                required>
                                                            <span id="emailError" class="error1"></span>
                                                        </div>

                                                        <input type="button" name="next" class="next action-button"
                                                            value="Next Step" />
                                                    </fieldset>




                                                    <fieldset>
                                                        <div class="row">
                                                            <div class="col-4">
                                                                <select class="form-control" id="role_id"
                                                                    name="role_id">

                                                                    <option > select Role</option>
                                                                    <% if (roles) { %> 
                                                                        <% var isSelected = '' %>
                                                                        <% for(var i=0; i < roles.length; i++) { %>
                                                                            
                                                                            <% if(roles[i]._id.toString().includes(data.role_id.toString())){%>
                                                                                 <% isSelected = 'selected' %> 
                                                                               
                                                                                <% }else{ %>
                                                                                    <% isSelected = '' %> 
                                                                                    <% } %>
                                                                            <option value="<%= roles[i]._id %>"  <%= isSelected %>>  
                                                                                <%= roles[i].role_name %> 
                                                                            </option>
                                                                            <% } %>
                                                                            <% } %>
                                                                            

 

                                                                           
                                                                            
                                                                               
                                                                </select>
                                                                <span id="roleError" class="error"></span>
                                                            </div>
                                                            <div class="col-4">
                                                                <input type="text" class="form-control" name="emp_code"
                                                                    id="emp_code" placeholder="Enter Employee Code"
                                                                    value="<%= data.emp_code %>">
                                                                <span id="empError" class="error"></span>
                                                            </div>
                                                            <div class="col-4">
                                                                <select class="form-control" id="reporting_user_id"
                                                                    name="reporting_user_id">
                                                                    <option selected="true" value="select">Select Reporting User
                                                                    </option>
                                                                    <% if (reportingData) { %>
                                                                        <% for(var i=0; i < reportingData.length; i++) { %>
                                                                         
                                                     <% if(data.reporting_user_id.toString().includes(reportingData[i]._id.toString())){%>
                                                                                <% isSelected = 'selected' %> 
                                                                                <% }else{ %>
                                                                                    <% isSelected = '' %> 
                                                                                    <% } %>
                                                                            <option value="<%= reportingData[i].id %>" <%= isSelected %>>
                                                                                <%= reportingData[i].user_name %>
                                                                            </option>
                                                                            <% } %>
                                                                                <% } %>
                                                                </select>
                                                                <span id="repError" class="error"></span>
                                                            </div>
                                                            <div class="col-4">

                                                                <input type="text" class="form-control" name="firstname"
                                                                    id="firstname" placeholder="Enter Your First Name"
                                                                    value="<%= data.firstname %>">
                                                                <span id="fnameError" class="error"></span>
                                                            </div>
                                                            <div class="col-4">
                                                                <input type="text" class="form-control"
                                                                    name="middle_name" id="middle_name"
                                                                    placeholder="Enter Your Middle Name"
                                                                    value="<%= data.middle_name %>">
                                                                <span id="mnameError" class="error"></span>
                                                            </div>
                                                            <div class="col-4">
                                                                <input type="text" class="form-control" name="last_name"
                                                                    id="last_name" placeholder="Enter Your Last Name"
                                                                    value="<%= data.last_name %>">
                                                                <span id="lnameError" class="error"></span>
                                                            </div>
                                                            <div class="col-4">
                                                                <label><input type="radio" id="gender_male" name="gender"
                                                                        value="male" required>Male</label>
                                                                <label><input type="radio" id="gender_female" name="gender"
                                                                        value="female">Female</label>
                                                                <label><input type="radio" id="other" name="gender"
                                                                        value="other">Other</label><br>
                                                                <span id="genderError" class="error"></span>
                                                            </div>
                                                            <div class="col-4">
                                                                <input type="text" class="form-control" name="dob"
                                                                    id="dob" placeholder="Enter Your Date of Birth"
                                                                    onfocus="(this.type='date')" max="2004-12-31"
                                                                    value="<%= data.dob %>">
                                                                <span id="dobError" class="error"></span>

                                                            </div>
                                                            <div class="col-4">
                                                                <input type="text" class="form-control" name="doj"
                                                                    id="doj" placeholder="Enter Your Date of Join"
                                                                    onfocus="(this.type='date')"
                                                                    value="<%= data.doj %>">
                                                                <span id="dojError" class="error"></span>
                                                            </div>
                                                            <div class="col-4">
                                                                <input type="text" class="form-control"
                                                                    name="company_email" id="company_email"
                                                                    placeholder="Enter Your Company Email"
                                                                    value="<%= data.company_email %>">
                                                            </div>
                                                            <div class="col-4">
                                                                <input type="text" class="form-control" name="mo_number"
                                                                    id="mo_number"
                                                                    placeholder="Enter Your Mobile Number"
                                                                    value="<%= data.mo_number %>">
                                                                <span id="moError" class="error"></span>
                                                            </div>
                                                            <div class="col-4">
                                                                <input type="text" class="form-control"
                                                                    name="pan_number" id="pan_number"
                                                                    placeholder="Enter Your Pan Card Number"
                                                                    value="<%= data.pan_number %>">
                                                            </div>
                                                            <div class="col-4">
                                                                <input type="text" class="form-control"
                                                                    name="aadhar_number" id="aadhar_number"
                                                                    placeholder="Enter Your Aadhar Number"
                                                                    value="<%= data.aadhar_number %>">
                                                            </div>
                                                            <div class="col-4">
                                                                <input type="text" class="form-control" name="add_1"
                                                                    id="add_1" placeholder="Enter Your Address Line 1"
                                                                    value="<%= data.add_1 %>">
                                                                <span id="add1Error" class="error"></span>
                                                            </div>
                                                            <div class="col-4">
                                                                <input type="text" class="form-control" name="add_2"
                                                                    id="add_2" placeholder="Enter Your Address Line 2"
                                                                    value="<%= data.add_2 %>">
                                                                <span id="add2Error" class="error"></span>
                                                            </div>
                                                            <div class="col-4">
                                                                <select name="country" class="countries form-control"
                                                                    id="">
                                                                    <option value="">Select Country</option>
                                                                    <% if (countrydata) { %>
                                                                        <% for(var i=0; i < countrydata.length; i++) {
                                                                            %> 
                                                                             <% if(countrydata[i].country.includes(data.country)){%>
                                                                                <% isSelected = 'selected' %> 
                                                                                <% }else{ %>
                                                                                    <% isSelected = '' %> 
                                                                                    <% } %>
                                                                            <option value="<%= countrydata[i].country %>"  <%= isSelected %>>

                                                                                <%= countrydata[i].country %>
                                                                            </option>
                                                                            <% } %>
                                                                                <% } %>
                                                                </select>
                                                                <span id="countryError" class="error"></span>
                                                            </div>
                                                            <div class="col-4">
                                                                <select name="state" class="states form-control" id="">
                                                                    <option value="">Select State</option>
                                                                    <% if (statedata) { %>
                                                                        <% for(var i=0; i < statedata.length; i++) { %>
                                                                            <% if(statedata[i].state.includes(data.state)){%>
                                                                                <% isSelected = 'selected' %> 
                                                                                <% }else{ %>
                                                                                    <% isSelected = '' %> 
                                                                                    <% } %>
                                                                            <option value="<%= statedata[i].state %>" <%= isSelected %>>

                                                                                <%= statedata[i].state %>
                                                                            </option>
                                                                            <% } %>
                                                                                <% } %>
                                                                </select>
                                                                <span id="stateError" class="error"></span>
                                                            </div>
                                                            <div class="col-4">
                                                                <select name="city" class="cities form-control" id="">
                                                                    <option value="">Select City</option>
                                                                    <% if (citydata) { %>
                                                                        <% for(var i=0; i < citydata.length; i++) { %>
                                                                            <% if(citydata[i].city.includes(data.city)){%>
                                                                                <% isSelected = 'selected' %> 
                                                                                <% }else{ %>
                                                                                    <% isSelected = '' %> 
                                                                                    <% } %>

                                                                            <option value="<%= citydata[i].city %>"  <%= isSelected %> >

                                                                                <%= citydata[i].city %>
                                                                            </option>
                                                                            <% } %>
                                                                                <% } %>
                                                                </select>
                                                                <span id="cityError" class="error"></span>
                                                            </div>
                                                            <div class="col-4">
                                                                <input type="text" class="form-control" name="pincode" id="pincode"
                                                                    placeholder="Enter Your Pincode" value="<%= data.pincode %>">
                                                                    <span id="pincodeError" class="error"></span>
                                                            </div>
                                                            <div class="col-4">
                                                                <input type="file" class="form-control" name="photo"
                                                                    id="photo" placeholder="Enter Role Description"
                                                                    value="">
                                                                    <input type="hidden" class="form-control" name="old_image"
                                                                    id="photo" placeholder="Enter Role Description"
                                                                    value="<%= data.photo %>">
                                                            </div>
                                                            <div class="col-4">
                                                                <select name="status" class="form-control" id="">
                                                                    <option value="" disabled selected>Employee status</option>
                                                                    <option value="Pending Employee">Pending Employee</option>
                                                                    <option value="Active Employee">Active Employee</option>
                                                                    <option value="InActive Employee">InActive Employee</option>
                                                                    <option value="ExEmployee">ExEmployee</option>
                            
                                                                </select>
                                                                <span id="cityError" class="error"></span>
                                                            </div>


                                                        </div>
                                                        <input type="button" name="previous"
                                                            class="previous action-button-previous" value="Previous" />
                                                        <input type="button" name="next" class="next1 action-button"
                                                            value="Next Step" />
                                                    </fieldset>
                                                    <fieldset>
                                                        <div class="form">
                                                            <input type="text" class="form-control"
                                                                name="bank_account_no" id="bank_account_no"
                                                                placeholder="Enter Your Bank Account number"
                                                                value="<%= data.bank_account_no %>">
                                                            <span id="accError" class="error"></span>
                                                        </div>
                                                        <div class="form">
                                                            <input type="text" class="form-control" name="bank_name"
                                                                id="bank_name" placeholder="Enter Your Bank Name  "
                                                                value="<%= data.bank_name %>">
                                                            <span id="bnameError" class="error"></span>
                                                        </div>
                                                        <div class="form">
                                                            <input type="text" class="form-control" name="ifsc_code"
                                                                id="ifsc_code" placeholder="Enter Your Bank IFSC code "
                                                                value="<%= data.ifsc_code %>">
                                                            <span id="ifscError" class="error"></span>

                                                        </div>
                                                        <input type="button" name="previous"
                                                            class="previous action-button-previous" value="Previous" />
                                                        <button type="submit" name="submit" id="submit"
                                                            onclick="return check()"
                                                            class="btn btn-primary">Update</button>
                                                    </fieldset>
                                                </form>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                </div>
                </section>
            </div>
    </div>


    <!-- [ Main Content ] end -->
    <%- include ("partials/footer.ejs") %>
        <!-- Apex Chart -->
        <script src="/js/plugins/apexcharts.min.js"></script>
        <script src="/js/useredits.js"></script>
        <script>
if(genderValue=="male"){
 $('#gender_male').prop('checked', true);
  }else if(genderValue=="female"){
    $('#gender_female').prop('checked', true);
  }else{
    $('#gender_other').prop('checked', true);
  }
        </script>

        @<%- include ("partials/footer-bottom-link.ejs") %>
            <!-- custom-chart js -->
            <script src="/js/pages/dashboard-main.js"></script>
            <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery-validate/1.19.5/jquery.validate.min.js"></script>
           
            </script>
</body>

</html>